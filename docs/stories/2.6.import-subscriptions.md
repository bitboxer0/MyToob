# Story 2.6: Import User Subscriptions

## Status
Draft

## Story
**As a** user,
**I want** to import my YouTube subscriptions into the app,
**so that** I can organize and search videos from channels I follow.

## Acceptance Criteria
1. "Import Subscriptions" button in YouTube section of sidebar
2. Calls `subscriptions.list` API with pagination (50 results per page)
3. For each subscription, fetches channel metadata: `channelID`, `title`, `thumbnailURL`
4. Creates `VideoItem` entries for recent uploads from each channel
5. Progress indicator shows import status ("Importing subscriptions: 45/120 channels...")
6. Handles API errors gracefully (quota exceeded, network failure)â€”user can retry
7. Import can be paused/resumed (stores state in SwiftData)
8. After import, subscriptions appear in sidebar under "YouTube > Subscriptions"

## Tasks / Subtasks
- [ ] Add Import UI (AC: 1)
  - [ ] Add button to YouTube sidebar section
  - [ ] Create import view
  - [ ] Show progress indicator
- [ ] Implement subscriptions import (AC: 2, 3)
  - [ ] Call subscriptions.list API
  - [ ] Handle pagination (50 per page)
  - [ ] Fetch channel metadata
  - [ ] Parse responses
- [ ] Create VideoItem entries (AC: 4)
  - [ ] Get recent uploads per channel
  - [ ] Create VideoItem models
  - [ ] Save to SwiftData
- [ ] Show import progress (AC: 5)
  - [ ] Track imported count
  - [ ] Update progress UI
  - [ ] Show channel names
- [ ] Error handling (AC: 6)
  - [ ] Handle quota exceeded
  - [ ] Handle network failures
  - [ ] Allow retry
  - [ ] Show user-friendly errors
- [ ] Pause/resume support (AC: 7)
  - [ ] Store import state
  - [ ] Allow pause
  - [ ] Resume from last position
- [ ] Update sidebar (AC: 8)
  - [ ] Show imported subscriptions
  - [ ] Group under YouTube section

## Dev Notes
[Source: architecture/external-apis.md, architecture/data-models.md]
- API: subscriptions.list (1 unit), channels.list (1 unit)
- Pagination: 50 results per page
- Create VideoItem for each video
- Store in SwiftData with isLocal=false
- File: `MyToob/Features/YouTube/` components

## Testing
[Source: architecture/testing-strategy.md]
- Test subscription import flow
- Test pagination handling
- Test error recovery
- Test pause/resume

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-11-17 | 1.0 | Initial story creation | Scrum Master (Bob) |
